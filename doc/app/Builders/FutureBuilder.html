<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8">

<title>class Builders::FutureBuilder - Rails Application Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="../Object.html">Object</a>
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-build">::build</a>
    
    <li ><a href="#method-c-build_aacc_eod_csv">::build_aacc_eod_csv</a>
    
    <li ><a href="#method-c-build_cme_eod">::build_cme_eod</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Builders::FutureBuilder">
  <h1 id="class-Builders::FutureBuilder" class="class">
    class Builders::FutureBuilder
  </h1>

  <section class="description">
    
  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-build" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">build</span><span
            class="method-args">(params, code)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>TRC00920151030FCA FUT20151030296142YTRAD000000518100000011000000000624EUREX
FUEURXFGBS 20151208 00000000.000000 SE0624 0000011000077935900001 TRADE O
-0000000002.00 0000000000.00 0000000002.00 0000000000.00
0000000000.0020151103 190245 ULPUECTRADA00000111 .495000020151102 EUR
000000000000.0000000000000000000000000 EURX0000000000000000 .00
0000000000000000.00 EMMCH EMMCH P1 0000000000000000.00 0000000000000000.00
EURD0000000000000000 .00 0000000000000 0000000032961420000000000000000.02
DAEUR FORTISUS MASTER 15103019025686068906486157 STD030000000000N
000000000003 IGFAFNR 0000000000000000.00 0000000000000000.00
0000000.00000000000 .0000 AXEURBO FGBS 00000000
DE0009652669EURXXEURDENEJOMARGNEMMCH 1 -000000000000000000002.000000000
000000000000000000000.000000000 000000000000000000002.000000000
000000000000000000000.000000000 000000000000000000000.000000000000
ECAG000E20151030FGBS00GPCV 0000003 IGFAFNRSC 2015-10-30-19.02 .45
.0000002015-10-30-19.02 .45 .0000002015-10-30-19.02 .45
.0000002015-10-30-19.02 .56 .0000002015-10-30-18.02 .56 .860360 N E0624
E0624 E0624 E0624 TASCEURX2015-10-30 FGBS00GPCV0000003IGFAFNR
TASCEURX2015-10-30 FGBS00GPCV0000003IGFAFNR|1 ULPUEC</p>
          
          

          
          <div class="method-source-code" id="build-source">
            <pre><span class="ruby-comment"># File app/models/builders/future_builder.rb, line 11</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">params</span>, <span class="ruby-identifier">code</span>)
  <span class="ruby-comment">#</span>
  <span class="ruby-comment"># TODO find a way to keep attr &#39;code&#39; out of Future</span>
  <span class="ruby-comment">#</span>
  <span class="ruby-identifier">future</span> = <span class="ruby-constant">Future</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-identifier">code</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">future</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-constant">Future</span>.<span class="ruby-identifier">create!</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">expires_on</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;9037&#39;</span>])
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">code</span> = <span class="ruby-identifier">code</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">future</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-build_aacc_eod_csv" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">build_aacc_eod_csv</span><span
            class="method-args">(params, code)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="build_aacc_eod_csv-source">
            <pre><span class="ruby-comment"># File app/models/builders/future_builder.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build_aacc_eod_csv</span>(<span class="ruby-identifier">params</span>, <span class="ruby-identifier">code</span>)
  <span class="ruby-identifier">future</span> = <span class="ruby-constant">Future</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-identifier">code</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">future</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-constant">Future</span>.<span class="ruby-identifier">create!</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">expires_on</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">params</span>[<span class="ruby-value">:ary</span>][<span class="ruby-value">76</span>])
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">code</span> = <span class="ruby-identifier">code</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">future</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-build_cme_eod" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">build_cme_eod</span><span
            class="method-args">(params, code)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="build_cme_eod-source">
            <pre><span class="ruby-comment"># File app/models/builders/future_builder.rb, line 26</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build_cme_eod</span>(<span class="ruby-identifier">params</span>, <span class="ruby-identifier">code</span>)
  <span class="ruby-identifier">future</span> = <span class="ruby-constant">Future</span>.<span class="ruby-identifier">find_by_code</span>(<span class="ruby-identifier">code</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">future</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-constant">Future</span>.<span class="ruby-identifier">create!</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">expires_on</span> = <span class="ruby-constant">Date</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;FIXML&#39;</span>][<span class="ruby-string">&#39;TrdCaptRpt&#39;</span>][<span class="ruby-string">&#39;Instrmt&#39;</span>][<span class="ruby-string">&#39;MatDt&#39;</span>])
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">code</span> = <span class="ruby-identifier">code</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">future</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.2.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

